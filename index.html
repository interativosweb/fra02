<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matemática Interativa</title>
    <style>
        /* --- ESTILO APPLE (CLEAN DESIGN) --- */
        :root {
            --bg-app: #f5f5f7;       /* Fundo geral (Cinza Claro) */
            --bg-card: #ffffff;      /* Fundo dos cartões (Branco) */
            --text-primary: #1d1d1f; /* Preto Suave */
            --text-secondary: #86868b; /* Cinza Texto */
            --accent: #0071e3;       /* Azul Apple */
            --success: #34c759;      /* Verde Sucesso */
            --error: #ff3b30;        /* Vermelho Erro */
            --radius: 24px;          /* Cantos bem arredondados */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

        body {
            height: 100vh;
            background-color: var(--bg-app);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden; /* Evita rolagem na tela inteira */
        }

        /* CONTAINER PRINCIPAL (A "JANELA" DO APP) */
        .app-container {
            width: 95%;
            max-width: 1400px;
            height: 90vh;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr; /* Esquerda maior (Atividade), Direita menor (Resposta) */
            gap: 20px;
        }

        /* --- SEÇÃO 1: ATIVIDADE (ESQUERDA) --- */
        .secao-atividade {
            background-color: var(--bg-card);
            border-radius: var(--radius);
            padding: 40px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            position: relative;
        }

        .header-questao {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .contador {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .imagem-container {
            flex-grow: 1; /* Ocupa o espaço disponível */
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fbfbfd;
            border-radius: 16px;
            margin-bottom: 25px;
            padding: 20px;
        }

        .img-atividade {
            max-width: 100%;
            max-height: 300px; /* Limite de altura para não quebrar */
            object-fit: contain;
        }

        .enunciado {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .opcoes-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn-opcao {
            background-color: var(--bg-app);
            border: 1px solid transparent;
            border-radius: 16px;
            padding: 20px;
            font-size: 1.1rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
        }

        .btn-opcao:hover:not(:disabled) {
            background-color: #e5e5ea;
            transform: scale(1.02);
        }

        /* Estados do Botão */
        .btn-opcao.selecionado { border-color: var(--accent); color: var(--accent); background-color: #f0f8ff; }
        .btn-opcao.certo { background-color: var(--success); color: white; border-color: var(--success); }
        .btn-opcao.errado { background-color: var(--error); color: white; border-color: var(--error); }
        .btn-opcao:disabled { cursor: default; }

        /* --- SEÇÃO 2: RESPOSTA (DIREITA) --- */
        .secao-resposta {
            background-color: rgba(255, 255, 255, 0.8); /* Levemente transparente */
            backdrop-filter: blur(20px); /* Efeito de vidro Apple */
            border-radius: var(--radius);
            padding: 40px;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255,255,255,0.5);
        }

        /* Estado inicial vazio */
        .estado-vazio {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            text-align: center;
            font-size: 1.1rem;
        }

        /* Conteúdo da Resposta (aparece depois) */
        .conteudo-resposta {
            display: none; /* Oculto inicialmente */
            animation: fadeIn 0.5s ease;
            height: 100%;
            flex-direction: column;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .feedback-titulo {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-explica {
            background-color: white;
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03);
            flex-grow: 1;
            overflow-y: auto; /* Permite rolar se o texto for grande */
        }

        .titulo-metodo {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .texto-detalhe { font-size: 1rem; line-height: 1.6; margin-bottom: 20px; }

        /* Rodapé com Créditos e Botão Próximo */
        .rodape-resposta {
            margin-top: auto;
        }

        .btn-proximo {
            width: 100%;
            background-color: var(--text-primary);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
            margin-bottom: 20px;
        }
        .btn-proximo:hover { opacity: 0.9; }

        .creditos {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-align: center;
            border-top: 1px solid #e5e5ea;
            padding-top: 15px;
        }

        /* --- FRAÇÃO VERTICAL (CSS MÁGICO) --- */
        .fracao {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            vertical-align: middle;
            margin: 0 5px;
        }
        .fracao .num { border-bottom: 1.5px solid currentColor; padding: 0 4px; display: block; line-height: 1; font-weight: 600; font-size: 0.9em; }
        .fracao .den { padding: 0 4px; display: block; line-height: 1; font-weight: 600; font-size: 0.9em; }

        /* RESPONSIVIDADE (CELULAR) */
        @media (max-width: 900px) {
            body { height: auto; overflow-y: auto; display: block; }
            .app-container { grid-template-columns: 1fr; height: auto; padding: 10px; display: flex; flex-direction: column; }
            .secao-atividade, .secao-resposta { height: auto; min-height: 400px; }
        }
    </style>
</head>
<body>

    <div class="app-container">
        
        <section class="secao-atividade">
            <div class="header-questao">
                <span class="contador" id="contadorTxt">Questão 1 de 10</span>
                <div style="font-size: 0.9rem; font-weight: 600;">
                    <span style="color: var(--success)">✓ <span id="scoreCerto">0</span></span>
                    <span style="color: var(--text-secondary); margin: 0 8px;">|</span>
                    <span style="color: var(--error)">✕ <span id="scoreErrado">0</span></span>
                </div>
            </div>

            <div class="imagem-container">
                <img id="imgQuestao" class="img-atividade" src="" alt="Imagem da Atividade">
            </div>

            <div class="enunciado" id="textoEnunciado">Carregando...</div>

            <div class="opcoes-grid" id="containerOpcoes">
                </div>
        </section>

        <section class="secao-resposta">
            
            <div id="vazioPlaceholder" class="estado-vazio">
                <p>Selecione uma opção ao lado<br>para ver a explicação.</p>
            </div>

            <div id="conteudoResposta" class="conteudo-resposta">
                <div class="feedback-titulo" id="tituloFeedback">
                    </div>

                <div class="card-explica">
                    <div class="titulo-metodo">EXPLICAÇÃO PASSO A PASSO</div>
                    <div class="texto-detalhe" id="textoExplicacao"></div>
                </div>

                <div class="rodape-resposta">
                    <button class="btn-proximo" onclick="proximaQuestao()">Próxima Questão →</button>
                    <div class="creditos">
                        Desenvolvido por Gilberto Fernandes - Matemática<br>
                        [Atividade Professora Simone Vieira]
                    </div>
                </div>
            </div>

        </section>

    </div>

    <script>
        // ==========================================================
        // DADOS DAS 10 QUESTÕES (Progressivas e Cotidianas)
        // ==========================================================
        
        // Função auxiliar para desenhar fração: f(numerador, denominador)
        const f = (n, d) => `<div class='fracao'><span class='num'>${n}</span><span class='den'>${d}</span></div>`;

        // REGRAS:
        // Use imagens diferentes se tiver. Se não, repetimos as que você tem.
        const bancoImagens = [
            "https://raw.githubusercontent.com/interativosweb/fra02/main/Site_Fracoes/img1.png",
            "https://raw.githubusercontent.com/interativosweb/fra02/main/Site_Fracoes/img2.png",
            "https://raw.githubusercontent.com/interativosweb/fra02/main/Site_Fracoes/img3.png"
        ];

        const questoes = [
            // --- NÍVEL 1: BÁSICO ---
            {
                pergunta: "Para o lanche, uma pizza foi cortada em 8 fatias iguais. Se você comer 3 fatias, que fração da pizza você comeu?",
                img: bancoImagens[0],
                opcoes: [f(1,3), f(3,8), f(5,8), f(8,3)],
                correta: 1,
                explica: `<strong>Conceito de Fração:</strong><br>O número de baixo (Denominador) representa o total de pedaços: 8.<br>O número de cima (Numerador) representa quantos pedaços consideramos: 3.<br><br>Resposta: ${f(3,8)}.`
            },
            {
                pergunta: "Um tanque de gasolina tem capacidade marcada em 4 partes. O ponteiro está na primeira marca. Qual a fração?",
                img: bancoImagens[1],
                opcoes: [f(1,4), f(1,2), f(3,4), f(4,4)],
                correta: 0,
                explica: `Se o total é dividido em 4 partes e temos apenas 1 parte preenchida, a fração é um quarto (${f(1,4)}).`
            },
            {
                pergunta: "João tem uma barra de chocolate com 10 quadradinhos. Ele deu 5 para Maria. Quanto sobrou para João?",
                img: bancoImagens[2],
                opcoes: [f(2,10), f(10,5), f(1,2), f(3,10)],
                correta: 2,
                explica: `Ele tinha 10, deu 5. Sobraram 5.<br>A fração é ${f(5,10)}. Simplificando (dividindo em cima e embaixo por 5), temos a metade: ${f(1,2)}.`
            },
            
            // --- NÍVEL 2: SOMA/SUBTRAÇÃO BASES IGUAIS ---
            {
                pergunta: "Ana pintou ${f(2,7)} de uma parede de manhã e ${f(3,7)} de tarde. Quanto da parede já está pintada?",
                img: bancoImagens[0],
                opcoes: [f(5,14), f(6,7), f(5,7), f(1,7)],
                correta: 2,
                explica: `<strong>Denominadores Iguais:</strong><br>Mantemos o número de baixo (7) e somamos os de cima.<br>${f(2,7)} + ${f(3,7)} = ${f(5,7)}.`
            },
            {
                pergunta: "Uma garrafa de suco estava com ${f(5,6)} de sua capacidade. Pedro bebeu ${f(1,6)}. Quanto restou?",
                img: bancoImagens[1],
                opcoes: [f(4,6), f(6,6), f(4,12), f(5,6)],
                correta: 0,
                explica: `<strong>Subtração Simples:</strong><br>Mantemos o 6. Fazemos 5 - 1 = 4.<br>Resultado: ${f(4,6)} (que simplificando seria ${f(2,3)}).`
            },

            // --- NÍVEL 3: BASES DIFERENTES (BORBOLETA/MMC) ---
            {
                pergunta: "Você tem ${f(1,2)} xícara de farinha e adiciona mais ${f(1,3)} de xícara. Qual o total de farinha?",
                img: bancoImagens[2],
                opcoes: [f(2,5), f(5,6), f(1,6), f(2,6)],
                correta: 1,
                explica: `<strong>Método da Borboleta:</strong><br>1. Multiplica cruzado: (1×3) + (2×1) = 3 + 2 = 5 (Numerador).<br>2. Multiplica os de baixo: 2×3 = 6 (Denominador).<br><br>Resultado: ${f(5,6)}.`
            },
            {
                pergunta: "Em uma corrida, Maria completou ${f(3,4)} do percurso e parou. João correu apenas ${f(1,2)}. Quanto Maria correu a mais que João?",
                img: bancoImagens[0],
                opcoes: [f(1,4), f(2,4), f(3,4), f(1,2)],
                correta: 0,
                explica: `Conta: ${f(3,4)} - ${f(1,2)}.<br>Sabemos que ${f(1,2)} é igual a ${f(2,4)}.<br>Logo: ${f(3,4)} - ${f(2,4)} = ${f(1,4)}.`
            },
            {
                pergunta: "Soma de frações: Quanto é ${f(2,5)} + ${f(1,4)}?",
                img: bancoImagens[1],
                opcoes: [f(3,9), f(13,20), f(8,20), f(3,20)],
                correta: 1,
                explica: `<strong>Borboleta:</strong><br>Asas: (2×4)=8 e (5×1)=5. Soma: 8+5=13.<br>Corpo: 5×4=20.<br>Resultado: ${f(13,20)}.`
            },
            {
                pergunta: "Um pedreiro usou ${f(1,3)} de um saco de cimento na segunda e ${f(2,5)} na terça. Quanto usou no total?",
                img: bancoImagens[2],
                opcoes: [f(3,8), f(11,15), f(2,15), f(3,15)],
                correta: 1,
                explica: `<strong>MMC de 3 e 5 é 15.</strong><br>${f(1,3)} vira ${f(5,15)}.<br>${f(2,5)} vira ${f(6,15)}.<br>Somando: 5+6 = 11. Resultado: ${f(11,15)}.`
            },
            {
                pergunta: "Desafio Final: ${f(7,10)} - ${f(1,2)} =",
                img: bancoImagens[0],
                opcoes: [f(6,8), f(2,10), f(5,10), f(1,5)],
                correta: 1, // 2/10 é a correta (ou 1/5)
                explica: `O MMC de 10 e 2 é 10.<br>${f(1,2)} vira ${f(5,10)}.<br>Agora: ${f(7,10)} - ${f(5,10)} = ${f(2,10)}.<br>(Obs: ${f(2,10)} simplificado é igual a ${f(1,5)}).`
            }
        ];

        // ==========================================================
        // LÓGICA DO APP
        // ==========================================================
        
        let indiceAtual = 0;
        let scoreC = 0;
        let scoreE = 0;

        function carregarQuestao() {
            // 1. Reseta visual
            document.getElementById('vazioPlaceholder').style.display = 'flex';
            document.getElementById('conteudoResposta').style.display = 'none';
            document.getElementById('containerOpcoes').innerHTML = '';
            
            // 2. Carrega dados
            const q = questoes[indiceAtual];
            document.getElementById('contadorTxt').innerText = `QUESTÃO ${indiceAtual + 1} DE ${questoes.length}`;
            document.getElementById('textoEnunciado').innerHTML = q.pergunta; // innerHTML para ler as frações no texto
            document.getElementById('imgQuestao').src = q.img;

            // 3. Cria botões
            q.opcoes.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'btn-opcao';
                btn.innerHTML = opt;
                btn.onclick = () => verificar(index, btn);
                document.getElementById('containerOpcoes').appendChild(btn);
            });
        }

        function verificar(idxEscolhido, btnClicado) {
            const q = questoes[indiceAtual];
            const todosBotoes = document.querySelectorAll('.btn-opcao');
            
            // Bloqueia cliques
            todosBotoes.forEach(b => b.disabled = true);

            // Prepara área de resposta
            const titulo = document.getElementById('tituloFeedback');
            const texto = document.getElementById('textoExplicacao');
            
            document.getElementById('vazioPlaceholder').style.display = 'none';
            document.getElementById('conteudoResposta').style.display = 'flex';

            if (idxEscolhido === q.correta) {
                // ACERTO
                scoreC++;
                document.getElementById('scoreCerto').innerText = scoreC;
                btnClicado.classList.add('certo');
                titulo.innerHTML = "<span style='color:var(--success); font-size:2rem'>✓</span> Excelente!";
            } else {
                // ERRO
                scoreE++;
                document.getElementById('scoreErrado').innerText = scoreE;
                btnClicado.classList.add('errado');
                todosBotoes[q.correta].classList.add('certo'); // Mostra a certa
                titulo.innerHTML = "<span style='color:var(--error); font-size:2rem'>✕</span> Ops, não foi dessa vez.";
            }

            texto.innerHTML = q.explica;
        }

        function proximaQuestao() {
            if (indiceAtual < questoes.length - 1) {
                indiceAtual++;
                carregarQuestao();
            } else {
                alert(`Parabéns! Você concluiu as 10 questões.\nAcertos: ${scoreC}\nErros: ${scoreE}`);
                indiceAtual = 0;
                scoreC = 0; scoreE = 0;
                document.getElementById('scoreCerto').innerText = 0;
                document.getElementById('scoreErrado').innerText = 0;
                carregarQuestao();
            }
        }

        // Iniciar
        carregarQuestao();

    </script>
</body>
</html>
