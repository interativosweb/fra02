<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matem√°tica no Cotidiano</title>
    <style>
        /* --- EST√âTICA APPLE CLEAN --- */
        :root {
            --bg-color: #ffffff;
            --surface-color: #f5f5f7; /* Cinza Apple */
            --text-main: #1d1d1f;
            --accent-blue: #0071e3;
            --accent-green: #34c759;
            --accent-red: #ff3b30;
            --border-radius: 18px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

        body {
            height: 100vh;
            display: flex;
            background-color: var(--bg-color);
            color: var(--text-main);
            overflow: hidden;
        }

        /* --- CLASSE PARA FRA√á√ÉO VERTICAL (O SEGREDO) --- */
        .fracao {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            vertical-align: middle;
            margin: 0 5px;
            font-size: 0.9em;
        }
        .fracao span.num { border-bottom: 2px solid currentColor; padding: 0 4px; display: block; line-height: 1.2; }
        .fracao span.den { padding: 0 4px; display: block; line-height: 1.2; }

        /* --- LADO ESQUERDO: VISUAL --- */
        .coluna-visual {
            width: 50%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--surface-color);
            padding: 40px;
            position: relative;
        }

        .imagem-atividade {
            max-width: 100%;
            max-height: 85%;
            object-fit: contain;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.05)); /* Sombra muito suave */
            transition: transform 0.4s ease;
        }

        /* --- LADO DIREITO: INTERA√á√ÉO --- */
        .coluna-interacao {
            width: 50%;
            height: 100%;
            padding: 40px 50px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Permite rolar se a explica√ß√£o for longa */
        }

        /* PLACAR */
        .placar {
            display: flex;
            justify-content: flex-end;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: #86868b;
        }
        .placar span b { color: var(--text-main); font-size: 1.1rem; }

        /* PERGUNTA */
        h1 { font-size: 1.8rem; font-weight: 700; margin-bottom: 30px; line-height: 1.3; }

        /* OP√á√ïES DE RESPOSTA (GRID) */
        .container-opcoes {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 colunas */
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn-opcao {
            background-color: white;
            border: 1px solid #d2d2d7;
            color: var(--text-main);
            padding: 20px;
            border-radius: 12px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
        }

        .btn-opcao:hover:not(:disabled) {
            border-color: var(--accent-blue);
            background-color: #f0f8ff;
            transform: scale(1.02);
        }

        .btn-opcao:disabled { cursor: default; opacity: 0.6; }
        
        /* Cores de feedback */
        .btn-opcao.certo { background-color: var(--accent-green); color: white; border-color: var(--accent-green); }
        .btn-opcao.errado { background-color: var(--accent-red); color: white; border-color: var(--accent-red); }

        /* √ÅREA DE EXPLICA√á√ÉO (ESCONDIDA NO IN√çCIO) */
        #areaExplicacao {
            display: none; /* Escondido por padr√£o */
            background-color: var(--surface-color);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .titulo-metodo {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #86868b;
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .texto-explicacao { font-size: 1rem; line-height: 1.6; color: #333; }

        /* NAVEGA√á√ÉO E RODAP√â */
        .rodape-controles { margin-top: auto; padding-top: 20px; border-top: 1px solid #eee; }
        
        .btn-proximo {
            background-color: var(--text-main);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            float: right;
            display: none; /* S√≥ aparece depois de responder */
        }
        .btn-proximo:hover { background-color: #333; }

        .creditos {
            font-size: 0.8rem;
            color: #86868b;
            margin-top: 20px;
            clear: both;
        }

        /* MOBILE */
        @media (max-width: 900px) {
            body { flex-direction: column; overflow-y: auto; }
            .coluna-visual { width: 100%; height: 35vh; padding: 20px; }
            .coluna-interacao { width: 100%; height: auto; padding: 20px; }
            .container-opcoes { grid-template-columns: 1fr; } /* 1 coluna no celular */
        }
    </style>
</head>
<body>

    <div class="coluna-visual">
        <img id="imgAtividade" class="imagem-atividade" src="" alt="Problema Matem√°tico">
    </div>

    <div class="coluna-interacao">
        
        <div class="placar">
            <span>Acertos: <b id="scoreCerto" style="color: var(--accent-green)">0</b></span>
            <span>Erros: <b id="scoreErrado" style="color: var(--accent-red)">0</b></span>
        </div>

        <h1 id="textoPergunta">Carregando...</h1>

        <div class="container-opcoes" id="listaOpcoes">
            </div>

        <div id="areaExplicacao">
            <h3 id="feedbackTitulo" style="margin-bottom: 10px;">Resposta Completa</h3>
            
            <div class="titulo-metodo">ü¶ã M√âTODO DA BORBOLETA</div>
            <div id="explBorboleta" class="texto-explicacao"></div>

            <div class="titulo-metodo">‚ûó UTILIZANDO O MMC</div>
            <div id="explMMC" class="texto-explicacao"></div>
        </div>

        <div class="rodape-controles">
            <button id="btnProximo" class="btn-proximo" onclick="proximaQuestao()">Pr√≥xima Quest√£o ‚Üí</button>
            <p class="creditos">Desenvolvido por Gilberto Fernandes - Matem√°tica [Atividade Professora Simone Vieira]</p>
        </div>

    </div>

    <script>
        // =========================================================================
        // CONFIGURA√á√ÉO F√ÅCIL DAS QUEST√ïES
        // =========================================================================
        // DICA: Para fazer a fra√ß√£o use: criaFracao(numerador, denominador)
        // Exemplo no texto: "Jo√£o comeu " + criaFracao(1,2) + " da pizza."
        // =========================================================================
        
        const atividades = [
            {
                imagem: "https://raw.githubusercontent.com/interativosweb/fra02/main/Site_Fracoes/img1.png",
                pergunta: "Em uma festa, restaram duas bandejas de pizza. Uma com " + criaFracao(1,4) + " de queijo e outra com " + criaFracao(1,3) + " de calabresa. Quanto de pizza sobrou no total?",
                opcoes: [
                    criaFracao(2,7), 
                    criaFracao(7,12), // Correta
                    criaFracao(1,7), 
                    criaFracao(2,12)
                ],
                correta: 1, // 0 √© a primeira, 1 √© a segunda...
                explicacaoBorboleta: "Multiplicamos cruzado: (1√ó3) + (4√ó1) = 3 + 4 = 7. Em baixo multiplicamos os denominadores: 4√ó3 = 12. Resultado: " + criaFracao(7,12),
                explicacaoMMC: "O MMC de 4 e 3 √© 12. Ajustando as fra√ß√µes temos: " + criaFracao(3,12) + " + " + criaFracao(4,12) + " = " + criaFracao(7,12)
            },
            {
                imagem: "https://raw.githubusercontent.com/interativosweb/fra02/main/Site_Fracoes/img2.png",
                pergunta: "Maria usou " + criaFracao(2,5) + " do tanque de gasolina para ir ao trabalho e " + criaFracao(1,10) + " para voltar. Quanto ela gastou do tanque?",
                opcoes: [
                    criaFracao(3,15), 
                    criaFracao(3,10), 
                    criaFracao(5,10), // Correta (Simplificada √© 1/2)
                    criaFracao(1,2)   // Se quiser colocar a simplificada
                ],
                correta: 2, 
                explicacaoBorboleta: "Asas da borboleta: (2√ó10) + (5√ó1) = 20 + 5 = 25. Corpo (denominadores): 5√ó10 = 50. Ficamos com " + criaFracao(25,50) + " que simplificando por 25 d√° " + criaFracao(1,2),
                explicacaoMMC: "O MMC de 5 e 10 √© 10. A primeira fra√ß√£o vira " + criaFracao(4,10) + ". Somando: " + criaFracao(4,10) + " + " + criaFracao(1,10) + " = " + criaFracao(5,10)
            }
            // Copie e cole aqui para criar mais quest√µes...
        ];

        // =========================================================================
        // L√ìGICA DO SISTEMA (N√ÉO PRECISA MEXER)
        // =========================================================================
        
        let indiceAtual = 0;
        let acertos = 0;
        let erros = 0;

        // Fun√ß√£o auxiliar para criar o HTML da fra√ß√£o bonita
        function criaFracao(num, den) {
            return `<div class='fracao'><span class='num'>${num}</span><span class='den'>${den}</span></div>`;
        }

        function carregarAtividade() {
            // Reseta a tela
            document.getElementById('areaExplicacao').style.display = 'none';
            document.getElementById('btnProximo').style.display = 'none';
            
            const dados = atividades[indiceAtual];
            document.getElementById('imgAtividade').src = dados.imagem;
            document.getElementById('textoPergunta').innerHTML = dados.pergunta; // innerHTML para aceitar a fra√ß√£o
            
            const lista = document.getElementById('listaOpcoes');
            lista.innerHTML = '';

            // Cria os bot√µes
            dados.opcoes.forEach((opcaoHTML, index) => {
                const btn = document.createElement('button');
                btn.className = 'btn-opcao';
                btn.innerHTML = opcaoHTML; // Aceita a fra√ß√£o desenhada
                btn.onclick = () => verificarResposta(index, btn);
                lista.appendChild(btn);
            });
        }

        function verificarResposta(indiceEscolhido, botaoClicado) {
            const dados = atividades[indiceAtual];
            const botoes = document.querySelectorAll('.btn-opcao');
            
            // Trava todos os bot√µes
            botoes.forEach(b => b.disabled = true);

            if (indiceEscolhido === dados.correta) {
                // ACERTOU
                acertos++;
                document.getElementById('scoreCerto').innerText = acertos;
                botaoClicado.classList.add('certo');
                document.getElementById('feedbackTitulo').innerHTML = "‚úÖ Muito bem! Resposta Correta.";
                document.getElementById('feedbackTitulo').style.color = "var(--accent-green)";
            } else {
                // ERROU
                erros++;
                document.getElementById('scoreErrado').innerText = erros;
                botaoClicado.classList.add('errado');
                // Mostra qual era a certa
                botoes[dados.correta].classList.add('certo'); 
                document.getElementById('feedbackTitulo').innerHTML = "‚ùå Ops! A resposta correta seria:";
                document.getElementById('feedbackTitulo').style.color = "var(--accent-red)";
            }

            // Mostra explica√ß√£o
            document.getElementById('explBorboleta').innerHTML = dados.explicacaoBorboleta;
            document.getElementById('explMMC').innerHTML = dados.explicacaoMMC;
            document.getElementById('areaExplicacao').style.display = 'block';
            document.getElementById('btnProximo').style.display = 'block';
        }

        function proximaQuestao() {
            indiceAtual++;
            if (indiceAtual < atividades.length) {
                carregarAtividade();
            } else {
                alert(`Fim da atividade! \nAcertos: ${acertos}\nErros: ${erros}`);
                indiceAtual = 0;
                acertos = 0; erros = 0;
                carregarAtividade();
                // Reseta placar visual
                document.getElementById('scoreCerto').innerText = 0;
                document.getElementById('scoreErrado').innerText = 0;
            }
        }

        // Inicia
        window.onload = carregarAtividade;

    </script>
</body>
</html>
